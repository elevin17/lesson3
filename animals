<?php
//*Для первого задания можно сразу создать многомерный массив, не из нескольких простых. Плюс строчки 28-34: индекс не нужно указывать, если вы ключи подряд раздаете начиная с 0: интепритатор сделать всё сам. Более того, в таком случае строчки 27-35 можно свернуть в одну.

//Видимо, необходимо просто вручную все написать? В обычной жизни так не бывает, наверное:-) Ок.



$continents_animals = [
			'Africa' =>['Massospondylus','Panthera leo', 'Loxodonta africana','Panthera pardus', 'Lemuridae', 'Hapalemur', 'Okapia johnstoni', 'Giraffa camelopardalis', 'Equus burchelli', 'Crocodylia', 'Crocodylus niloticus'],
			
			'Antarctica' =>['Belgica antarctica','Euphausia superba','Alaskozetes antarcticus','Cryptopygus antarcticus','Belgica antarctica','Aptenodytes forsteri','Pygoscelis adeliae','Lagenorhynchus cruciger','Stereotydeus villosus','Nanorchtestes antarcticus','Tydeus tilbrooki'],
			
			'Asia' =>['Gordius fulgur','Gordius zwicki','Hypselotriton wolterstorffi','Tylototriton verrucosus', 'Tylototriton','Tylototriton asperrimus','Tylototriton broadoridgus','Tylototriton dabienicus','Tylototriton hainanensis','Tylototriton liuyangensis','Tylototriton notialis'],
			
			'Australia' =>['Macropus agilis','Macropus eugenii','Macropus giganteus','Macropus rufus','Phascolarctos cinereus','Sarcophilus harrisii','Tachyglossus aculeatus','Trichosurus vulpecula','Vombatus ursinus','Zaglossus bruijni','Ornithorhynchus anatinus'],
			
			'Europe' =>['Alytes obstetricans','Proteus anguinus','Calotriton arnoldi','Lyciasalamandra','Calotriton asper','Triturus karelinii','Salamandra lanzai','Bufo calamita','Salamandrina','Bombina bombina'],
			
			'North America' =>['Anhanguera', 'Adelobasileus cromptoni','Aepycamelus','Aepycamelus bradyi','Aepycamelus elrodi','Aepycamelus giraffinus','Aepycamelus major','Aepycamelus priscus','Aepycamelus procerus','Aepycamelus robustus','Aepycamelus_stocki'],
			
			'South America' =>['Anhanguera','Acdestodon bonapartei Test','Araripesaurus','Aetodactylus','Aerotitan','Alamodactylus','Alanqa','Allkaruen','Amblydectes','Angustinaripterus','Anhanguera']
			];


//echo'<pre>Выведем массив из континентов и животных<br>';
//print_r($continents_animals);
//echo'</pre>';


// Выберите только один континент для каждого животного. Пусть у вас получится 10-15 зверей. 
//*говорит о том, для каждого континента каждое животное будет уникальным. То есть оно не встречается на других континентах.

//Теперь кажется понятным, надо перебрать значения и вывести только уникальные. 

$unique_animals=array();
$new_continents_animal=array();

foreach($continents_animals as $c => $a) {
	$continent = $c; 
	foreach($a as $animal) { 
		if (!in_array($animal,$unique_animals)){
			$new_continents_animal[$continent][]=$animal;
			$unique_animals[]=$animal;
		}
	}
}



//echo'<pre>Выведем массив из континентов и уникальных животных<br>';
//print_r($new_continents_animal);
//echo'</pre>';

//2. *На строчке 55 - объясните условие "если ещё не в массиве", зачем оно здесь? А если появятся животные, у которых в названии 3 слова - они ведь не должны попадать в этот массив. Но попадут?
//код был
//$new_animals_array=array();
//foreach ($continents_animals as $k=>$v){
	//foreach($v as $animals){
		//if (!in_array($animals,$new_animals_array) && strpos($animals, ' ')){       //Если еще не в массиве и состоит из двух слов
			//$new_animals_array[]=$animals;
			
		//}
	//}
//}


// Судя по всему, в "Если еще не в массиве" - там я выбирала только уникальных животных. О том, что животные могут быть из 3-х и 4-х слов, не подумала, такие и не встретились. Да, нужна проверка. 

//2. Теперь найдите всех зверей, название которых состоит из двух слов. Составьте из них новый массив.

$unique_animals_2 = array();

foreach($unique_animals as $k=>$v){
	if(substr_count($v,' ')===1){     //ставлю строгую проверку, хотя достаточно 2-х равно.
		$unique_animals_2[]=$v;
	}
}



echo'<pre>Выведем новый массив животных из 2 элементов<br>';
print_r($unique_animals_2);
echo'</pre>';


//*3. В стирочках 72-73 Вы 2 раза выполняете explode, да ещё и в цикле. Можно один раз выполнить explode, результат действия которого приравнять другой переменной. А потом уже с ней и работать. Вы сократите кол-во выполнений explode в этом месте в 2 раза. Не считая этого, 3е задание верно.

//Случайно перемешайте между собой первые и вторые слова названий животных так, чтобы на выходе мы получили выдуманных, фантазийных животных. Название фантазийного животного должно начинаться с первого слова реального названия животного. Важно, чтобы каждый кусочек был использован и не повторялся более одного раза. 
//Ничего страшного, если в результате перемешивания иногда будут получаться реальные животные. Вывести этих животных на экран.

$k_first=array();
$k_second=array();
foreach ($unique_animals_2 as $k){
	$p=explode(' ' ,$k);
	$k_first[]=$p[0];
	$k_second[]=$p[1];
	
}






shuffle($k_first);
shuffle($k_second);

$fantasy_animal=array();

for ($i=0; $i<count($k_first);$i++){
$fantasy_animal[] = $k_first[$i].' '.$k_second[$i];
}


echo'<pre>Выведем фантазийных животных<br>';
print_r($fantasy_animal);
echo'</pre>';


//Допзадания
//В дополнительном задании нужно пройтись по всем вымышленным существам, сравнить их с настоящими, и прописать их в те континенты, где находятся "настоящие" (первая часть названия). И вывести в формате <h2>Название континента</h2>а тут через запятую всех вымышленных животных на этом континенте и точка в конце.


foreach($fantasy_animal as $f){
	$f_part = explode(' ',$f)[0];
	foreach($continents_animals as $c => $a){
		$continent = $c;
		foreach($a as $animal){
			if((substr_count($animal, $f_part))===1){
				$cont_fant_animals[$continent]=$f;
			}
	}
	
}
}





echo'<pre>Выведем фантазийных животных и континенты<br>';
print_r($cont_fant_animals);
foreach($cont_fant_animals as $c => $a){
	echo'<h2>'.$c.'</h2>';
	foreach($a as $animal){
		echo'<p>'.$animal.'</p>';
	}
}
echo'</pre>';


?>
